jQuery.fn.WHTRPagination=function(a){function b(b,d,e){var f=0;f=e%d==0?e/d:parseInt(e/d)+1,0>=f&&(f=1);var g=0,h=0,i=parseInt(a.display_num/2),j=a.display_num%2==0?i-1:i;i>=b?(g=1,h=a.display_num,h>f&&(h=f)):(g=b-i,h=b+j,h>f&&(h=f,g=f>a.display_num?f-a.display_num+1:1));var k='<div class="module_paging fb fc666 mt15 tc">';if(a.show_detail&&(k+='共<span class="ml5 mr5 fc_dc0">'+e+'</span>条，<span class="ml5 mr5 fc_dc0"> '+f+" </span>页"),f>1){b>1?(k+='<a href="javascript:;" class="ml10 fc_dc0" onclick="'+a.click_fun+'(1);" title="首页">'+a.frist_text+"</a>",k+='<a href="javascript:;" class="ml10 ml10 fc_dc0" onclick="'+a.click_fun+"("+(b-1)+');" title="上一页">'+a.prev_text+"</a>"):(a.frist_show_always&&(k+='<span class="ml15">'+a.frist_text+"</span>"),a.prev_show_always&&(k+='<span class="ml15 mr15">'+a.prev_text+"</span>"));for(var l=g;h>=l;l++)k+=l==b?'<span class="fc_dc0 ml10 mr5">'+l+"</span>":'<a href="javascript:;" class="ml5" onclick="'+a.click_fun+"("+l+');" title="第'+l+'页">'+l+"</a>";f>b?k+='<a href="javascript:;" class="ml10 fc_dc0" onclick="'+a.click_fun+"("+(b+1)+');" title="下一页">'+a.next_text+"</a></li>":a.next_show_always&&(k+='<span class="ml30">'+a.next_text+"</span>")}else a.frist_show_always&&(k+='<span class="ml15">'+a.frist_text+"</span>"),a.prev_show_always&&(k+='<span class="ml10">'+a.prev_text+"</span>"),k+='<span class="ml10 fc_dc0">1</span>',a.next_show_always&&(k+='<span class="ml10">'+a.next_text+"</span>");a.show_goto&&(k+='<span class="pr">'+(f==b?a.last_show_always?'<span class="ml15">'+a.last_text+"</span>":"":'<a href="javascript:;" class="ml10 fc_dc0" onclick="'+a.click_fun+"("+f+');">'+a.last_text+"</a>")+'<input type="text" id="'+a.pager_id+'_page" class="s_num pl10 m-l10 bnone no_ol" value="'+b+'"" /><input type="button" class="s_go bnone" onclick="'+a.pager_id+'_go();"  /><script type="text/javascript">function '+a.pager_id+"_go(){var _value = $('#"+a.pager_id+"_page').val(); if(!(/^\\d+$/).test(_value) || _value <= 0) { $('#"+a.pager_id+"_page').val('1'); return; }if(_value > "+f+"){ $('#"+a.pager_id+"_page').val('"+f+"'); return; }"+a.click_fun+"(_value);}</script></span> "),k+="</div>",c.html(k)}a=jQuery.extend({pager_id:"whtr",display_num:5,frist_text:"&lt;&lt;首页",last_text:"尾页&gt;&gt;",prev_text:"&lt;上一页",next_text:"下一页&gt;",ellipse_text:"...",click_fun:"loadData",frist_show_always:!0,last_show_always:!0,prev_show_always:!0,next_show_always:!0,show_detail:!0,show_goto:!0},a||{});var c=$(this);return{drawLinks:function(a,c,d){b(a,c,d)}}};